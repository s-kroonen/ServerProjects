@page "/test"
@rendermode InteractiveServer

@if (LastSubmitResult != null)
{
	<h2>
		Last submit status: @LastSubmitResult
	</h2>
}

<EditForm Model=@preson OnValidSubmit=@ValidFormSubmitted OnInvalidSubmit=@InvalidFormSubmitted FormName="Testing"> 
	<DataAnnotationsValidator />
	<div class="form-group">
		<label for="Name">Name</label>
		<InputText @bind-Value=preson.Name class="form-control" id="Name" />
	</div>
	<div class="form-group">
		<label for="Age">Age</label>
		<InputNumber @bind-Value=preson.Age class="form-control" id="Age" />
	</div>
	<input type="submit" class="btn btn-primary" value="Save" />
</EditForm>

@code {
	Person preson = new Person();
	string LastSubmitResult = "";
	void ValidFormSubmitted(EditContext editContext)
	{
		LastSubmitResult = "OnValidSubmit was executed";
	}

	void InvalidFormSubmitted(EditContext editContext)
	{
		LastSubmitResult = "OnInvalidSubmit was executed";
	}

	public class Person
	{
		public string Name { get; set; }
		public int Age { get; set; }
	}
}

